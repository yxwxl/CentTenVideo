# 一定要合法使用,仅供学习参考

## 一般的 api 比如获取所有频道 id 比如动漫，电视剧 一共 7 个频道，获取对应频道视频列表和获取具体视频的集数列表的 api 可直接使用

## from flaskApi.getVideoM3u8 import download_bp 这个 api 使用有前置条件,所以默认 index.py 内部是注释掉的

### 使用前提,需要有腾讯视频的 vip,否则 vip 视频请求不到包含视频播放链接的文件

### 需要打开谷歌浏览器 按以下步骤修改文件

#### 打开开发者工具(f12)

#### 点击 Sources/源

#### 点击 Overrides 新建一个文件夹作为 Overrides 文件夹,用于存放修改的代码,并启用 overrides

#### Ctrl+P 找到 txhlsjs-kernel.js

#### Ctrl+F 搜索文件内部的的 this.\_videoInfo.duration

#### 找到 var r = Math.abs(this.\_videoInfo.duration - e) <= 1 ? e - 1 : e;这段代码 在其下面插入 window.my_m3u8=this.\_videoInfo.configInner.url; Ctrl+S 保存代码即可开始使用

### 注意事项

#### 第一,注意代码中可能需要更改谷歌浏览器 User Data 的地址,请根据自己的情况修改

#### 第二,使用时谷歌浏览器要关闭,应为模拟浏览器只能有一个

#### 第三,启用模拟浏览器时,可能需要等待 10s-200s 不等的时间,是系统调度问题

#### 第四,开启后,第一次请求调用时,可能请求失败,后面即可正常使用

### 功能函数都有详细的对应说明文档,在各自的文件夹中
